<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Tu TiÃªn Giá»›i â€¢ ÄÄƒng Nháº­p</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@900&family=Noto+Sans+SC:wght@500;700;900&display=swap');

:root{
  --cyan:#7be4ff;
  --gold:#ffd37b;
  --red:#ff6b6b;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
  height:100vh;
  background:#030a1a;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:'Noto Sans SC',sans-serif;
  color:white;
  overflow:hidden;
}
canvas{position:absolute;inset:0}

.login-container{
  z-index:10;
  padding:45px 70px;
  background:rgba(3,10,26,.75);
  border-radius:28px;
  border:2px solid rgba(123,228,255,.35);
  box-shadow:0 0 70px rgba(123,228,255,.45);
  text-align:center;
}

.logo{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:15px;
  margin-bottom:20px;
}
.icon{
  width:70px;height:70px;
  background:linear-gradient(135deg,var(--cyan),var(--gold));
  border-radius:20px;
  display:flex;align-items:center;justify-content:center;
  font-size:34px;font-weight:900;color:#020b1a;
}
.game-name{
  font-size:42px;
  font-weight:900;
  letter-spacing:4px;
  background:linear-gradient(90deg,#fff,var(--cyan));
  -webkit-background-clip:text;
  color:transparent;
}

h1{
  font-family:'Cinzel Decorative',serif;
  font-size:60px;
  margin:25px 0 30px;
  background:linear-gradient(90deg,var(--cyan),var(--gold));
  -webkit-background-clip:text;
  color:transparent;
}

.input-group{margin:18px 0;position:relative}
input{
  width:360px;
  padding:16px 22px;
  font-size:18px;
  background:rgba(255,255,255,.1);
  border:2px solid var(--cyan);
  border-radius:40px;
  color:white;
  outline:none;
}
input::placeholder{color:rgba(255,255,255,.6)}

.toggle-pass{
  position:absolute;
  right:20px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  opacity:.7;
}

.btn{
  margin-top:25px;
  padding:16px 80px;
  font-size:24px;
  font-weight:900;
  background:linear-gradient(90deg,var(--cyan),var(--gold));
  border:none;
  border-radius:50px;
  cursor:pointer;
}

.switch{
  margin-top:18px;
  font-size:16px;
  cursor:pointer;
  opacity:.8;
}

.oauth{
  margin-top:25px;
  display:flex;
  gap:12px;
  justify-content:center;
}
.oauth button{
  padding:12px 18px;
  border-radius:30px;
  border:none;
  font-weight:700;
  cursor:pointer;
}

.alert{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:rgba(255,107,107,.95);
  padding:20px 45px;
  border-radius:18px;
  font-size:22px;
  opacity:0;
  pointer-events:none;
  transition:.4s;
}
.alert.show{opacity:1}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="login-container">

  <div class="logo">
    <div class="icon">ä»™</div>
    <div class="game-name">Tu TiÃªn Giá»›i</div>
  </div>

  <h1 id="title">ÄÄƒng Nháº­p</h1>

  <div class="input-group">
    <input id="username" placeholder="Gmail / Äáº¡o hiá»‡u">
  </div>

  <div class="input-group">
    <input id="password" type="password" placeholder="Máº­t kháº©u">
    <span class="toggle-pass" onclick="togglePass()">ğŸ‘</span>
  </div>

  <div class="input-group" id="repass" style="display:none">
    <input id="password2" type="password" placeholder="Nháº­p láº¡i máº­t kháº©u">
  </div>

  <button class="btn" onclick="submit()" id="mainBtn">NHáº¬P MÃ”N</button>

  <div class="switch" onclick="toggleMode()" id="switchText">
    ChÆ°a cÃ³ Ä‘áº¡o hiá»‡u? â†’ ÄÄƒng kÃ½
  </div>

  <div class="oauth">
    <button onclick="oauth('Google')">Google</button>
    <button onclick="oauth('Facebook')">Facebook</button>
    <button onclick="oauth('GitHub')">GitHub</button>
  </div>

</div>

<div class="alert" id="alert"></div>

<script>
/* STAR */
const c=document.getElementById('stars'),x=c.getContext('2d');
let w=c.width=innerWidth,h=c.height=innerHeight;
const s=[...Array(800)].map(()=>({x:Math.random()*w,y:Math.random()*h,r:Math.random()*1.5}));
(function d(){x.clearRect(0,0,w,h);s.forEach(e=>{x.beginPath();x.arc(e.x,e.y,e.r,0,7);x.fillStyle='white';x.fill()});requestAnimationFrame(d)})();

/* AUTH */
let isLogin=true;
const users=JSON.parse(localStorage.getItem('tuTienUsers')||'{}');

function toggleMode(){
  isLogin=!isLogin;
  document.getElementById('title').innerText=isLogin?'ÄÄƒng Nháº­p':'ÄÄƒng KÃ½';
  document.getElementById('mainBtn').innerText=isLogin?'NHáº¬P MÃ”N':'KHAI LINH';
  document.getElementById('repass').style.display=isLogin?'none':'block';
  document.getElementById('switchText').innerText=isLogin?'ChÆ°a cÃ³ Ä‘áº¡o hiá»‡u? â†’ ÄÄƒng kÃ½':'ÄÃ£ cÃ³ Ä‘áº¡o hiá»‡u? â†’ ÄÄƒng nháº­p';
}

function togglePass(){
  const p=document.getElementById('password');
  p.type=p.type==='password'?'text':'password';
}

function show(msg){
  const a=document.getElementById('alert');
  a.innerText=msg;a.classList.add('show');
  setTimeout(()=>a.classList.remove('show'),3000);
}

function submit(){
  const u=username.value.trim();
  const p=password.value;
  const p2=password2?.value;

  if(!u||!p) return show('Thiáº¿u thÃ´ng tin');

  if(isLogin){
    if(!users[u]||users[u]!==p) return show('Sai Ä‘áº¡o hiá»‡u hoáº·c máº­t kháº©u');
    localStorage.setItem('currentUser',u);
    show('ÄÄƒng nháº­p thÃ nh cÃ´ng!');
    setTimeout(()=>location.href='chinh.html',1200);
  }else{
    if(p!==p2) return show('Máº­t kháº©u khÃ´ng khá»›p');
    if(users[u]) return show('Äáº¡o hiá»‡u Ä‘Ã£ tá»“n táº¡i');
    users[u]=p;
    localStorage.setItem('tuTienUsers',JSON.stringify(users));
    show('Khai linh thÃ nh cÃ´ng! HÃ£y Ä‘Äƒng nháº­p');
    toggleMode();
  }
}

function oauth(type){
  show('ÄÄƒng nháº­p '+type+' (demo)');
  // Sau nÃ y gáº¯n Firebase / Supabase OAuth táº¡i Ä‘Ã¢y
}
</script>
</body>
</html>
